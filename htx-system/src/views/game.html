<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hoi Trai Xuan</title>
    <style>
        body { margin: 0; padding: 0; background: #000; }
        #unity-container { width: 100vw; height: 100vh; }
        #unity-canvas { width: 100%; height: 100%; background: #000; }
        #loading { 
            position: absolute; 
            top: 50%; left: 50%; 
            transform: translate(-50%, -50%); 
            color: white; 
            font-family: Arial;
        }
    </style>
</head>
<body>
    <div id="unity-container">
        <canvas id="unity-canvas"></canvas>
        <div id="loading">Loading...</div>
    </div>

    <script>
        const canvas = document.querySelector("#unity-canvas");
        const loading = document.querySelector("#loading");
        
        // Adjust path for public folder
        const buildUrl = "/game/HOITRAIXUAN/Build/";
        
        const config = {
            dataUrl: buildUrl + "Hoi trai xuan.data",
            frameworkUrl: buildUrl + "Hoi trai xuan.framework.js",
            codeUrl: buildUrl + "Hoi trai xuan.wasm",
        };

        // Load Unity game
        const script = document.createElement('script');
        script.src = buildUrl + "Hoi trai xuan.loader.js";
        script.onload = () => {
            if (typeof createUnityInstance !== 'undefined') {
                createUnityInstance(canvas, config, (progress) => {
                    loading.textContent = "Loading... " + Math.round(progress * 100) + "%";
                })
                .then(() => {
                    loading.style.display = "none";
                })
                .catch((error) => {
                    loading.textContent = "Error: " + error.message;
                });
            }
        };
        script.onerror = () => {
            loading.textContent = "Failed to load game files";
        };
        
        document.body.appendChild(script);
    </script>
    <script src="/js/pages/game.js"></script>
</body>
</html>